<!doctype html><html lang=en-us>
<head>
<title>🏗️ Comment ce blog a été bâti // Mon Blog Tech (FR)</title>
<link rel="shortcut icon" href=/favicon.ico>
<meta charset=utf-8>
<meta name=generator content="Hugo 0.88.1">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="Julien Leroy">
<meta name=description content="Donne les détails techniques sur la manière dont ce blog a été monté">
<link rel=stylesheet href=https://leroyj.github.io/css/main.min.59cc678e5be3e25ab7368d36560b79af9a267f36ee8a396fc27a166261791ebd.css>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4K18JZ28X6"></script>
<script>var dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-4K18JZ28X6',{anonymize_ip:!0})}</script>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="🏗️ Comment ce blog a été bâti">
<meta name=twitter:description content="Donne les détails techniques sur la manière dont ce blog a été monté">
<meta property="og:title" content="🏗️ Comment ce blog a été bâti">
<meta property="og:description" content="Donne les détails techniques sur la manière dont ce blog a été monté">
<meta property="og:type" content="article">
<meta property="og:url" content="https://leroyj.github.io/fr/posts/howto/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-10-12T15:28:09+02:00">
<meta property="article:modified_time" content="2021-10-12T15:28:09+02:00"><meta property="og:site_name" content="Mon Blog Tech (FR)">
</head>
<body>
<header class=app-header>
<a href=https://leroyj.github.io/><img class=app-header-avatar src=/avatar.jpg alt="Julien Leroy"></a>
<h2>Mon Blog Tech (FR)</h2>
<nav class=app-header-menu>
<a class=app-header-menu-item href=/fr>Accueil</a>
-
<a class=app-header-menu-item href=/fr/tags/>Libellés</a>
-
<a class=app-header-menu-item href=/fr/about>About</a>
</nav>
<p>Je suis un dino tech et ceci est mon histoire</p>
<div class=app-header-social>
<a href=https://twitter.com/leroyj target=_blank rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter"><title>My Twitter</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg>
</a>
<a href=https://github.com/leroyj target=_blank rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>My Github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a>
</div>
<ul>
<li class=posts-list-item><a href=https://leroyj.github.io/fr/>French</a></li>
<li class=posts-list-item><a href=https://leroyj.github.io/en/>English</a></li>
</ul>
</header>
<main class=app-container>
<article class=post>
<header class=post-header>
<h1 class=post-title>🏗️ Comment ce blog a été bâti</h1>
<div class=post-meta>
<div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
Oct 12, 2021
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
3 min read
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
<a class=tag href=https://leroyj.github.io/fr/tags/howto/>Howto</a>
<a class=tag href=https://leroyj.github.io/fr/tags/hugo/>Hugo</a>
</div>
</div>
</header>
<div class=post-content>
<p><em>N&rsquo;est on pas censé parler de technologie, après tout ?</em></p>
<h2 id=mes-attentes>Mes attentes</h2>
<p>Je cherche avant tout une solution de publication sans maintenance qui me permette de me concentrer sur l&rsquo;écriture de contenu et non pas sur la maintenance de la solution. Alors vous n&rsquo;entendrez pas parler ici de CMS à architecture microservice à base d&rsquo;AWS Lambda même si on pourrait mettre ça en place dans de futurs projets :)<br>
Je souhaite également disposer du support multilingue pour écrire en &ldquo;Globish&rdquo; 🇬🇧🇺🇸 et en Français 🇫🇷.</p>
<h2 id=hugo-un-générateur-de-site-web-statique>Hugo: Un générateur de site web statique</h2>
<figure><img src=https://upload.wikimedia.org/wikipedia/commons/a/af/Logo_of_Hugo_the_static_website_generator.svg alt="Logo du projet Hugo" height=100><figcaption>
<h4>Logo du projet Hugo</h4>
</figcaption>
</figure>
<p>Ce journal est généré par <a href=https://gohugo.io/>Hugo</a> qui est un générateur de site web statique vraiment sympa comme peuvent l&rsquo;être par exemple <a href=https://jekyllrb.com/>Jekyll</a> ou <a href=https://www.gatsbyjs.com/>Gatsby</a>.<br>
Il prend en entrée de simple fichiers <a href=https://en.wikipedia.org/wiki/Markdown>Markdown (md)</a> et génère la structure de votre site web dôté de fichiers html sympas, optimisés et rapides. (Hugo n&rsquo;est pas responsable de la mauvaise note en accessibilité, je dois y travailler)</p>
<figure><img src=/performance.png alt="Regardez un peu ces performances !" height=250><figcaption>
<h4>Regardez un peu ces performances !</h4>
</figcaption>
</figure>
<p>Par génération statique, on entend qu&rsquo;aucune machine ou VM serveur n&rsquo;est requise pour faire tournet votre site. Il vous suffit d&rsquo;heberger vos fichiers sur un partage http tout bête.
Par conséquent, vous n&rsquo;utilisez peu de ressources côté serveur et côté navigateur client.</p>
<h2 id=-thème-graphique>🎨 Thème graphique</h2>
<p>J&rsquo;utilise le thème graphique <a href=https://themes.gohugo.io/themes/hugo-theme-m10c/>m10c</a> légèrement personnalisé. Je l&rsquo;ai trouvé simple et élégant. J&rsquo;ai simplement ajusté la palette de couleur, changer l&rsquo;avatar et modifié le gabarit liste pour ajouter la description du contenu.</p>
<p>Vous aurez besoin de <a href=https://sass-lang.com/>Sass</a> pour modifier les fichiers scss.
Vous pouvez l&rsquo;installer facilement sur Mac si vous avez déjà npm installé.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm -g sass
</code></pre></div><p>J&rsquo;ai également procédé aux personnalisation suivantes.</p>
<h2 id=-support-multilingue>🇫🇷🇺🇸 Support multilingue</h2>
<p>Pour configurer le support multilingue, vous devez mettre en place la traduction des menus, dupliquer les contenus et ajouter quelques liens pour aider l&rsquo;utilisateur à changer de langue.</p>
<p>Malheureusement, lorsque vous activez le multilingue, les pages 404 personnalisées par langue ne fonctionnent pas vraiment bien avec <strong>GitHub Pages</strong>.
<strong>GitHub Pages</strong> ne supporte qu&rsquo;une unique page 404 nommée <code>404.html</code> à la racine du repo.
La seule manière alors est de copier la page 404 de la langue que vous aurez choisi à la racine du repo.
Par chance, cette tâche peut être automatisée avec <strong>GitHub Actions</strong> comme nous le verrons au prochain paragraphe.</p>
<h2 id=-chaîne-de-déploiement>🏗️ chaîne de déploiement</h2>
<figure><img src=../../../en/posts/deploy_workflow.drawio.png alt="Schéma de la chaîne de déploiement" height=200><figcaption>
<h4>Schéma de la chaîne de déploiement</h4>
</figcaption>
</figure>
<p>J&rsquo;ai choisi GitHub Page comme solution d&rsquo;hébergement. C&rsquo;est aussi simple qu&rsquo;un simple copier du contenu généré par Hugo (habituellement le contenu du dossier <code>public</code>) et d&rsquo;un coller dans votre repo <code>&lt;nickname>.github.io</code>.
Pour automatiser la tâche, vous pouvez utiliser un repo pour la source du contenu de votre blog et d&rsquo;utiliser <strong>Github Actions</strong> pour automatiser le déploiement en utilisant ce <a href=https://ruddra.com/hugo-deploy-static-page-using-github-actions/>tutoriel d&rsquo;intégration de Hugo dans GitHub</a>.
Voici comment.</p>
<h2 id=support-de-google-analytics-1>Support de Google Analytics <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></h2>
<p>Pour suivre ma toute petite audience, j&rsquo;utilise Google Analytics comme c&rsquo;est l&rsquo;outil que je connais le mieux et qu&rsquo;on peut le mettre en oeuvre gratuitement.
La configuration est directe. Il vous suffit d&rsquo;ajouter <code>googleAnalytics = 'G-YOURGAID'</code> au fichier de configuration <code>config.toml</code>.</p>
<h2 id=reste-à-faire>Reste à faire</h2>
<p>Il reste beaucoup à faire pour rendre le blog un peu plus chatoyant.<br>
Ma liste de course est la suivante :</p>
<ul>
<li>configurer ma CMP pour supporter le <a href="https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32016R0679">Réglement Général sur la protection des Données Européen (RGPD)</a> 🇪🇺</li>
<li>Ajouter des images et des vidéos</li>
<li>Améliore l&rsquo;accessibilité</li>
<li>essayer le frontend graphique pour hugo</li>
<li>essayer un module ecommerce for le fun et pas les bénéfices comme <a href=https://snipcart-hugo-forestry.netlify.app/>Snipcart</a> 💵</li>
</ul>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p>I only use Google Analytics for basic anonymous audience measurement. The configuration was tailored to explicitely avoid targeting and advertising. I will publish the details in a further post.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
</ol>
</section>
</div>
<div class=post-footer>
<h4></h4>
<ul>
<li>
<a href=https://leroyj.github.io/en/posts/howto/>en: 🏗️ How this blog was set up ()</a>
</li>
</ul>
</div>
</article>
</main>
</body>
</html>